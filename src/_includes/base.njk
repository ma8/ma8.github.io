<!DOCTYPE html>
<html lang="{{ lang | default('ca') }}">
<head> 
  {% include "seo.html" %}
  {% include "fonts-preload.html" %}

  <link rel="preload" href="/dist/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/dist/styles.css"></noscript>

</head>

<body>

  {% include "barra.html" %}

  <header>
    <div class="branding">
      <div class="container">
          <div class="logo"><a href="/{{ lang }}/" title="Inici mot:">ma8</a></div>
          <div class="menu__wrap">
            {% set menu_items = [
              { label: "menu.about", key: "about" },
              { label: "menu.towns", key: "towns" },
              { label: "menu.blog", key: "blog" },
              { label: "menu.support", key: "support" }
            ] %}

            <ul class="menu__list">
              {% for item in menu_items %}
                {% set url = collections.translatedPages | getTranslatedUrl(item.key, lang) %}
                <li class="menu__item"><a class="menu__link" href="{{ url }}">{{ item.label | i18n(lang) }}</a></li>
              {% endfor %}
            </ul>
          
          </div>
     
        
            <details class="language-switcher">
            <summary aria-label="{{ 'aria_language' | i18n(lang) }}">
              {{ "label_language" | i18n(lang) }}
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,12a89.53,89.53,0,0,1,50,15.2V74a2,2,0,0,1-.48,1.31L155.35,101a2,2,0,0,1-1.25.68L122.63,106a2,2,0,0,1-1.44-.36l-.24-.16-19.7-12.89a14,14,0,0,0-19.71,3.64l-21,31.3a13.94,13.94,0,0,0-2.36,7.71L58,171.45a2,2,0,0,1-.9,1.66l-5,3.27A90,90,0,0,1,128,38ZM59.28,186.05l4.43-2.9A14,14,0,0,0,70,171.52l.21-36.23a2.05,2.05,0,0,1,.33-1.1l21-31.3a2,2,0,0,1,1.31-.86,2,2,0,0,1,1.52.35l.24.16,19.7,12.89a13.93,13.93,0,0,0,10,2.44l31.47-4.26a14,14,0,0,0,8.73-4.74l22.17-25.76A14,14,0,0,0,190,74V62.82a89.91,89.91,0,0,1,22.68,95.67l-18.4-16.82a14,14,0,0,0-14.82-2.6L149,151.73a14.11,14.11,0,0,0-8.48,10.89l-2.38,16.19a14,14,0,0,0,10.3,15.58L169.9,200a2.09,2.09,0,0,1,.91.53l4.18,4.18A89.86,89.86,0,0,1,59.28,186.05ZM184.9,197.68l-5.59-5.61a14,14,0,0,0-6.36-3.65l-21.46-5.63a2,2,0,0,1-1.47-2.23l2.39-16.19a2,2,0,0,1,1.21-1.56l30.45-12.66a2,2,0,0,1,2.12.37l21.36,19.54A90.79,90.79,0,0,1,184.9,197.68Z"></path></svg>
            </summary>

            {% set currentTranslations = collections.translatedPages[translation_key] %}

            <ul>
              {% for l in ["ca", "es", "en"] %}
                {% if currentTranslations[l] %}
                  <li><a href="{{ currentTranslations[l].url }}">{{ l | upper }}</a></li>
                {% endif %}
              {% endfor %}
            </ul>

            <!-- <ul>
              <li><a href="/ca/" class="{% if lang == 'ca' %}active{% endif %}">Ca</a></li>
              <li><a href="/es/" class="{% if lang == 'es' %}active{% endif %}">Es</a></li>
              <li><a href="/en/" class="{% if lang == 'en' %}active{% endif %}">En</a></li>
            </ul> -->
          </details>


      </div>
    </div>
  </header>

  <main>
    {{ content | safe }}
  </main>

  {% include "peu.html" %}

  {% include "cookies-banner.njk" %}

  <!-- Afegir el teu arxiu JS generat -->
  <script src="/dist/main.js" defer></script>  

</body>
</html>
